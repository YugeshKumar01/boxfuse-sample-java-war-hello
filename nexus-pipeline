pipeline {
    agent any
    
    stages {
        stage("GIT checkout") {
            steps {
                git 'https://github.com/YugeshKumar01/boxfuse-sample-java-war-hello.git'
            }
        }
        stage("Build") {
            steps {
                sh "mvn clean package"
                sh "mv target/*.war target/boxfuse-sample-java-war-hello.war"
            }
            post {
                success {
                    script {
                        nexusArtifactUploader artifacts: [[artifactId: 'boxfuse-sample-java-war-hello', file: 'target/boxfuse-sample-java-war-hello.war', type: 'war']], credentialsId: 'nexus-id', groupId: 'com.boxfuse.samples', nexusUrl: 'http://13.232.6.56:8081/repository/sample-releases/', version: '9.3.1'
                    }
                }
            }
        }
    }
}
